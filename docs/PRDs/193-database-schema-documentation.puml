@startuml
!theme plain

package "MeshHook Database Schema Documentation" {
    [schema.sql] as (SchemaSQL)
    [Migration Files] as (Migrations)
    [Documentation Tool] as (DocTool)
    [Database Schema Documentation] as (Doc)
    [Project GitHub Wiki] as (Wiki)
    [Dedicated Documentation Site] as (DocSite)
}

package "MeshHook Core Components" {
    [Webhook Triggers] as (Webhooks)
    [Visual DAG Builder] as (DAG)
    [Durable Runs] as (Runs)
    [Live Logs] as (Logs)
    [Multi-Tenant Security] as (Security)
    [Postgres Database] as (Postgres)
}

(SchemaSQL) .down.> (DocTool) : Reviews
(Migrations) .down.> (DocTool) : Reviews
(DocTool) .right.> (Doc) : Generates
(Doc) .down.> (Wiki) : Publishes
(Doc) .down.> (DocSite) : Publishes
(Postgres) .up.> (Webhooks) : Supports
(Postgres) .up.> (DAG) : Supports
(Postgres) .up.> (Runs) : Supports
(Postgres) .up.> (Logs) : Supports
(Postgres) .up.> (Security) : Supports
(Postgres) -right-> (Doc) : Documented

note right of (Doc)
  Include:
  - Tables
  - Columns
  - Data Types
  - Constraints
  - Relationships
  - Indexes
  - RLS Policies
end note

note left of (Postgres)
  Managed by Supabase
  - Data Storage
  - Queues
  - Real-time Log Streaming
end note

@enduml