@startuml
!theme plain

title MeshHook Performance Benchmarking Framework

package "MeshHook System" {
    [Webhook Trigger] --> [DAG Builder]: Triggers workflow
    [DAG Builder] --> [Workflow Executor]: Executes defined workflow
    [Workflow Executor] --> [Log Delivery]: Streams logs in real-time
    [Workflow Executor] --> [Multi-Tenant RLS Security]: Ensures secure execution per tenant
}

package "Benchmarking Framework" {
    [Benchmark Development] --> [Automation & Integration]: Automates benchmarks
    [Automation & Integration] --> [Metric Collection & Analysis]: Collects and analyzes metrics
    [Metric Collection & Analysis] --> [Baseline Metrics & Regression Detection]: Establishes baselines and detects regressions
    [Baseline Metrics & Regression Detection] ..> [Optimization]: Identifies optimizations
    [Optimization] ..> [Workflow Executor]: Optimizes performance
}

package "CI/CD Pipeline" {
    [Automation & Integration] -right-> [CI/CD Integration]: Integrates benchmarks
    [CI/CD Integration] --> [Monitoring & Observability]: Monitors performance metrics
}

[Webhook Trigger] <.. [Benchmark Development]: Benchmarks
[DAG Builder] <.. [Benchmark Development]: Benchmarks
[Workflow Executor] <.. [Benchmark Development]: Benchmarks
[Log Delivery] <.. [Benchmark Development]: Benchmarks
[Multi-Tenant RLS Security] <.. [Benchmark Development]: Benchmarks

note right of [Benchmark Development]
  Develop benchmarks for:
  - Webhook processing
  - DAG builder responsiveness
  - Workflow execution times
  - Live log delivery
  - Multi-tenant RLS security
end note

note right of [Metric Collection & Analysis]
  Collect metrics on:
  - Execution times
  - Resource usage
  - Throughput
end note

note right of [CI/CD Integration]
  Continuous performance monitoring
  and regression detection
end note

@enduml