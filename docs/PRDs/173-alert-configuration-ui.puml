@startuml
!theme plain

package "Alert Configuration UI" {
    [Alert Configuration Component] as ACC
    [Alert Criteria Specification] as ACS
    [Multi-Tenancy Support] as MTS
    database "Supabase Backend" as SB
    [Existing Workflow Engine] as EWE
    [Existing UI] as EUI
}

cloud {
    [SvelteKit for SSR/API] as SK
}

node "Browser" {
    [User Interface] as UI
}

[User Interface] --> ACC : uses
ACC --> ACS : configures
ACC --> MTS : validates access
ACC --> [SvelteKit for SSR/API]
[SvelteKit for SSR/API] --> SB : reads/writes data
SB --> ACC : returns data
EWE --> SB : workflow data
EUI --> ACC : integrates with
ACC .> EWE : fetches workflow metrics/events
EWE ..> ACS : provides metrics/events

SK --> EUI : renders UI
UI --> SK : sends requests

class ACC {
    +createAlertConfig()
    +viewAlertConfig()
    +editAlertConfig()
    +deleteAlertConfig()
}

class ACS {
    +setCriteria()
    +setThresholds()
}

class MTS {
    +validateProjectScope()
}

SB : -alert_configurations table
SB : +CRUD operations

note right of SB : Data Model Changes\nfor alert configurations

note over ACC, ACS
  Components developed using Svelte 5
  for seamless UI experience
end note

note over MTS
  Ensures compliance with RLS
  security policies
end note

note over EWE
  Integration point for fetching\nworkflow metrics and events
end note

SK <..> ACC : includes
EWE <..> SB : integrates with

@enduml