@startuml
!theme plain

title Error Message Handling in MeshHook

package "MeshHook System" {
    [Webhook Intake] as WI
    [Workflow CRUD] as WCRUD
    [Publish Versions] as PV
    [Run Console] as RC
    [Error Handling] as EH
}

database "Supabase" {
    [Postgres] as DB
    [Realtime] as RT
    [Storage] as S
    [Edge] as E
}

node "Workers" {
    [Orchestrator] as O
    [HTTP Executor] as HE
}

WI --> EH : triggers\non failure
WCRUD --> EH : triggers\non failure
PV --> EH : triggers\non failure
RC --> EH : triggers\non failure
O --> EH : triggers\non failure
HE --> EH : triggers\non failure

EH --> DB : logs error\ndetails
EH --> RT : streams error\nto clients

note right of EH : Error Handling Strategies\n- Log to Postgres\n- Stream via Realtime\n- User Notification

@enduml