@startuml
!theme plain

package "MeshHook System" {
    [Webhook Intake] <<SvelteKit>>
    [Workflow CRUD API] <<SvelteKit>>
    [Publish Versions] <<SvelteKit>>
    [Run Console] <<SvelteKit>>
    database "Supabase Postgres" {
        [Data + Queues]
        [Realtime Log Streaming]
        [Storage Artifacts]
        [Edge Cron/Timers]
    }
    [Orchestrator Worker]
    [HTTP Executor Worker]
}

package "Connection Pooling Optimization" {
    [Connection Pool Manager] #LightGreen
    [Resource Monitor] #LightGreen
    [Load Balancer] #LightGreen
}

[Webhook Intake] --> [Connection Pool Manager] : Uses
[Workflow CRUD API] --> [Connection Pool Manager] : Uses
[Publish Versions] --> [Connection Pool Manager] : Uses
[Run Console] --> [Connection Pool Manager] : Uses
[Connection Pool Manager] --> [Data + Queues] : Connects
[Connection Pool Manager] --> [Resource Monitor] : Reports to
[Resource Monitor] --> [Load Balancer] : Informs
[Load Balancer] --> [Connection Pool Manager] : Adjusts

note right of [Connection Pool Manager]
  Core component for optimizing
  database connections within the MeshHook system.
  It manages the pool of database connections,
  ensuring efficient resource utilization
  and high performance.
end note

note right of [Resource Monitor]
  Monitors resource usage and performance metrics,
  providing data for dynamic adjustment
  of the connection pool size.
end note

note right of [Load Balancer]
  Dynamically adjusts the distribution
  of database connections based on
  current load and resource availability.
end note

@enduml