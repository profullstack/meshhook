@startuml
!theme plain

package "MeshHook System" {
    [Webhook Intake] <<SvelteKit>>
    [Workflow CRUD] <<SvelteKit>>
    [Publish Versions] <<SvelteKit>>
    [Run Console] <<SvelteKit>>
    database "Supabase" {
        [Postgres]
        [Realtime]
        [Storage]
        [Edge]
    }
    [Orchestrator Worker]
    [HTTP Executor Worker]
}

package "Connection Pooling Optimization" {
    [Connection Pool Manager] #LightGreen
    [Database Connection Pool] #LightGreen
    [Resource Monitor] #LightGreen
}

[Connection Pool Manager] --> [Database Connection Pool] : Manages
[Database Connection Pool] --> [Postgres] : Connects
[Resource Monitor] --> [Database Connection Pool] : Monitors & Adjusts

[Webhook Intake] --> [Connection Pool Manager] : Uses
[Workflow CRUD] --> [Connection Pool Manager] : Uses
[Publish Versions] --> [Connection Pool Manager] : Uses
[Run Console] --> [Connection Pool Manager] : Uses

note right of [Database Connection Pool]
  Optimizes database connections
  to maintain performance and
  manage resource constraints.
end note

note "Integration with Supabase Postgres for data operations and queues. Utilizes existing database schema without changes." as N1
[Connection Pooling Optimization] . N1
N1 . [Supabase]

note "Monitors connection usage and dynamically adjusts pool size based on load." as N2
[Resource Monitor] . N2

@enduml