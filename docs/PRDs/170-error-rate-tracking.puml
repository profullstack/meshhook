@startuml
!theme plain

package "MeshHook System" {
    [Workers] --> [Error Tracking System] : captures and classifies errors
    [SvelteKit UI] --> [Error Tracking System] : displays dashboards
    database "Supabase (Postgres)" {
        [ErrorMetrics Table]
    }
    [Error Tracking System] --> [Supabase (Postgres)] : stores error metrics
    [Error Tracking System] ..> [Notification Service] : triggers alerts
}

cloud {
    [External Services]
    [Notification Service] --> [External Services] : Slack/Email notifications
}

[Workers] ..> [External Services] : interacts for workflow executions
[SvelteKit UI] ..> [External Services] : fetches data for UI

note right of [Error Tracking System]
  Functions:
  - Collect error metrics
  - Classify errors
  - Real-time monitoring
  - Alerting mechanism
end note

note right of [ErrorMetrics Table]
  Schema:
  - error_id: UUID
  - timestamp: Timestamp
  - error_type: VARCHAR
  - severity: ENUM
  - workflow_id: UUID
  - metadata: JSONB
end note

note right of [External Services]
  Includes:
  - Workflow execution services
  - Email/Slack for notifications
end note

@enduml