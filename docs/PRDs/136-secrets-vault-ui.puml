@startuml

!define SECRETS_UI_COLOR #85C1E9
!define SUPABASE_COLOR #76D7C4
!define SVELTEKIT_COLOR #F7DC6F
!define WORKERS_COLOR #E59866

package "Secrets Vault UI" #SECRETS_UI_COLOR {
    [Svelte Components] as SvelteComponents
    [Responsive Design] as ResponsiveDesign
}

package "Supabase" #SUPABASE_COLOR {
    [Postgres] as SupabasePostgres
    [Realtime] as SupabaseRealtime
    [Storage] as SupabaseStorage
    [Edge] as SupabaseEdge
}

package "SvelteKit (SSR/API)" #SVELTEKIT_COLOR {
    [Webhook Intake] as WebhookIntake
    [Workflow CRUD] as WorkflowCRUD
    [Publish Versions] as PublishVersions
    [Run Console] as RunConsole
}

package "Workers" #WORKERS_COLOR {
    [Orchestrator] as WorkersOrchestrator
    [HTTP Executor] as WorkersHTTPExecutor
}

SvelteComponents --> SupabasePostgres : Uses\nfor data operations
SvelteComponents --> SupabaseRealtime : Subscribes\nto updates
SvelteComponents --> ResponsiveDesign : Implements\nUI patterns
WebhookIntake --> SvelteComponents : Triggers\nUI updates
WorkflowCRUD --> SvelteComponents : Managed\nvia UI
PublishVersions --> SvelteComponents : Publish\nthrough UI
RunConsole --> SvelteComponents : Display\nin UI

SupabasePostgres --> WorkersOrchestrator : Triggers\nworkflows
SupabaseRealtime -[hidden]-> SupabaseStorage
SupabaseStorage -[hidden]-> SupabaseEdge
SupabaseEdge -[hidden]-> WebhookIntake
WorkersOrchestrator --> WorkersHTTPExecutor : Delegates\nHTTP tasks
WorkersHTTPExecutor --> SupabasePostgres : Updates\nworkflow status

note right of SvelteComponents : Core UI\nFunctionality
note right of SupabasePostgres : Durable\nStorage
note right of WorkersOrchestrator : Workflow\nOrchestration

@enduml