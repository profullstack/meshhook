@startuml
!theme plain

title Webhook Endpoint Creation Process

actor User as user
boundary "SvelteKit API" as API
database "Supabase Postgres" as DB
control "Webhook Module" as WM
entity "Webhook Configurations Table" as WCT

user -> API : Request to create webhook
API -> WM : Validate request
API -> WM : Create webhook config
WM -> DB : Store config in\nWebhook Configurations Table
DB --> WM : Return confirmation
WM --> API : Webhook creation success
API --> user : Return success response

note right of WM : Validates signature,\npayload, and applies rate limiting

WCT : + id (PK)
WCT : + project_id (FK)
WCT : + url_path
WCT : + workflow_id (FK)
WCT : + secret_key
WCT : + rate_limit
WCT : + validation_schema
WCT : + created_at
WCT : + updated_at

@enduml