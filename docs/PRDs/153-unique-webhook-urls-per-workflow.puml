@startuml
!theme cerulean

title Unique Webhook URLs per Workflow Architecture

package "MeshHook Platform" {
    [SvelteKit UI] as UI
    [Webhook Management API] as API
    database "Postgres DB" as DB {
        [webhooks]
    }
    [Supabase Realtime] as Supabase
}

cloud {
    [External Systems]
}

node "Webhook System" {
    [Unique URL Generator] as Generator
    [Signature Verification] as Signature
    [Migration Tooling] as Migration
}

External Systems --> API : Triggers webhook\nwith unique URL
UI ..> API : Registers/Manages\nwebhook URLs
API --> Generator : Generates unique URL
Generator --> DB : Stores unique URL\nin webhooks table
API --> DB : Retrieves webhook details\nincluding unique URL
API --> Signature : Verifies request signature
API ..> Supabase : Updates on webhook activity
DB --> Supabase : Realtime updates
Supabase ..> UI : Live updates on webhook activity
Migration ..> DB : Migrates existing\nworkflows to unique URLs

@enduml