@startuml
!theme plain

title MeshHook Loading States Implementation

package "Frontend (SvelteKit)" {
    [UI Components] as UI
    [Loading Component] as Loading
    [Error Component] as Error
}

package "Backend (Supabase)" {
    [Realtime Database] as Realtime
    [Functions] as Functions
}

cloud {
    [External Services] as ExtServices
}

UI -down-> Loading : triggers on async ops
UI -down-> Error : displays on failure
Loading .right.> Error : fallback on timeout/error
UI .up.> Realtime : subscribes for updates
UI .up.> Functions : invokes for data
Functions .right.> ExtServices : interacts with
Realtime -left-> Functions : triggers on data change

note right of Loading : Visual Feedback\nduring async operations
note right of Error : Show error or timeout messages

@enduml