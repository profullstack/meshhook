@startuml
!theme plain

package "MeshHook System" {
    [SvelteKit SSR/API] as SvelteKit
    [Supabase Postgres] as Postgres
    [Supabase Realtime] as Realtime
    [Workflow Engine] as Engine
    [HTTP Executor] as Executor
}

database "Postgres DB" as DB {
    [Queries] as DBQueries
    [Schema] as DBSchema
}

cloud {
    [Supabase Services] as Supabase
}

node "External Tools" {
    [Performance Analysis Tools] as AnalysisTools
}

[AnalysisTools] .down.> [DBQueries] : Identifies\nslow queries
DBQueries .right.> [Query Optimization] : Optimization\nstrategies
[Query Optimization] .down.> [DBSchema] : Applies\nschema changes
[DBSchema] .down.> [Postgres] : Updates
[Query Optimization] .down.> [Postgres] : Applies\noptimized queries

SvelteKit -right-> [Engine] : Triggers workflows
Engine -down-> [Executor] : Orchestrates HTTP calls
Executor -down-> Postgres : Reads/Writes data
Postgres -left-> Realtime : Streams logs

Supabase -[hidden]-> DB : Hosts
Supabase .up.> SvelteKit : Provides services
Supabase .up.> Realtime : Provides services
Supabase .up.> Postgres : Provides services

class "Query Optimization" {
    +Identify slow queries
    +Develop optimization plan
    +Implement optimizations
    +Regression testing
    +Performance benchmarking
}

@enduml