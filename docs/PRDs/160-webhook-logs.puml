@startuml
!theme plain

package "Webhook System" {
    [Webhook Management UI] as UI
    [Webhook Processor] as Processor
    [Supabase Realtime] as Realtime
    database "Postgres" as DB {
        [webhook_logs] as Logs
    }
}

[API Gateway] as API

package "External System" {
    [Client Application] as Client
}

Client --> API : sends webhook events
API --> Processor : processes events
Processor --> Logs : writes log entries
Logs --> DB : stores logs
UI ..> Realtime : subscribes for updates
Realtime ..> DB : streams updates
UI --> DB : queries logs with filters

note right of Logs
  Columns:
  - id
  - webhook_id
  - timestamp
  - request_headers
  - request_body
  - response_status
  - response_body
  - created_at
end note

note right of API
  GET /api/webhooks/{webhook_id}/logs
  WebSocket /realtime/logs
end note

Processor .down.> API : Fetches logs\nfor specific webhook

@enduml