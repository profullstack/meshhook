@startuml
!theme plain

title Log Levels and Filtering Implementation

package "MeshHook System" {
    component [Webhook Intake] <<SvelteKit>>
    component [Workflow CRUD] <<SvelteKit>>
    component [Publish Versions] <<SvelteKit>>
    component [Run Console] <<SvelteKit>>
    database [Supabase Postgres] {
        component [Data Storage]
        component [Queues]
    }
    component [Supabase Realtime] <<Log Streaming>>
    component [Storage] <<Supabase>>
    component [Edge] <<Supabase>>
    component [Orchestrator Worker]
    component [HTTP Executor Worker]
    component [Logging Service] {
        node "Log Levels" as LogLevels
        node "Filtering Mechanism" as Filtering
    }
}

[Webhook Intake] --> [Logging Service] : Sends log data
[Workflow CRUD] --> [Logging Service] : Sends log data
[Publish Versions] --> [Logging Service] : Sends log data
[Run Console] --> [Logging Service] : Sends log data
[Orchestrator Worker] --> [Logging Service] : Sends log data
[HTTP Executor Worker] --> [Logging Service] : Sends log data

[Logging Service] --> [Supabase Realtime] : Streams logs
[Supabase Realtime] --> [Run Console] : Displays live logs

note right of [Logging Service]
  Log levels include DEBUG, INFO,
  WARNING, ERROR, and CRITICAL.
  Filtering based on level, component,
  and custom criteria.
end note

note right of [Supabase Realtime]
  Enables live observation of logs
  with applied filters.
end note

@enduml