@startuml
!theme plain

package "MeshHook Webhook System" {
    [Webhook Management UI] as UI
    [Supabase API] as API
    database "Supabase (Postgres)" as DB {
        [signature_keys] as Keys
    }
}

package "External Systems" {
    [UI Design Tools] as DesignTools
}

UI --> API : Generate / List / Revoke / Reactivate keys
API --> DB : CRUD Operations on signature_keys
DB --> API : Real-time Updates
DesignTools ..> UI : Mockups Creation

note right of API : Extends API for\nkey management
note right of DB : New Table: signature_keys

class Keys {
    +id: UUID
    +project_id: UUID
    +key: Text (encrypted)
    +status: Enum (active/revoked)
    +created_at: Timestamp
    +revoked_at: Nullable Timestamp
}

note "Security\n- Encrypted keys\n- RLS on operations" as SecNote
DB .. SecNote
SecNote .. API

legend right
  **Key Components**
  [ ] : System Component
  -- : Data Flow
  .. : Influence or Guidance
endlegend

@enduml