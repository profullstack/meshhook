@startuml
!theme plain

title Transform/JMESPath Tests Architecture

package "MeshHook System" {
    [Webhook Ingestion] - [Workflow Execution]
    [Workflow Execution] --> [Transform/JMESPath]
    [Transform/JMESPath] ..> [Logging] : logs transformations
    [Workflow Execution] ..> [Database] : reads/writes
    database "Database" {
        [Postgres]
    }
}

package "Testing Framework" {
    [Test Runner] - [Unit Tests]
    [Test Runner] - [Integration Tests]
    [Test Runner] - [End-to-End Tests]
    [Unit Tests] --> [Mock Data]
    [Integration Tests] --> [Transform/JMESPath]
    [End-to-End Tests] --> [MeshHook System]
}

[Transform/JMESPath] <.. [Unit Tests] : tested by
[Transform/JMESPath] <.. [Integration Tests] : tested by
[MeshHook System] <.. [End-to-End Tests] : tested by

note right of [Unit Tests]
  Focus on logic of JMESPath
  transformations using mock data
end note

note right of [Integration Tests]
  Ensure compatibility with other
  MeshHook components
end note

note right of [End-to-End Tests]
  Simulate real-world usage
  scenarios
end note

note right of [Logging]
  Important for monitoring and
  observability of test executions
end note

[Test Runner] ..> [CI/CD Pipeline] : integrates with
[CI/CD Pipeline] ..> [Test Results] : generates
[Test Results] ..> [Monitoring & Observability] : informs

legend right
  -- Key --
  [ ] = Component
  --> = Direct Interaction
  ..> = Indirect Interaction/Dependency
endlegend

@enduml