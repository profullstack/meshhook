import{v as V,C as O,A as H,ao as Y,h as g,aL as q,aM as z,aN as J,aO as Q,J as Z,aP as F,aQ as W,O as R,aR as X,a7 as m,a0 as x,aS as ss}from"./DLTaHJlt.js";import{i as as,c as is,d as ts,n as rs,b as es}from"./BZOnZgKm.js";import{t as fs,a as $,i as us,c as os,s as ls}from"./Ihp2QH7c.js";function cs(s,i){var a=void 0,e;V(()=>{a!==(a=i())&&(e&&(O(e),e=null),a&&(e=H(()=>{Y(()=>a(s))})))})}function vs(s,i,a,e,f,n){var b=s.__className;if(g||b!==a||b===void 0){var y=fs(a,e,n);(!g||y!==s.getAttribute("class"))&&(y==null?s.removeAttribute("class"):i?s.className=y:s.setAttribute("class",y)),s.__className=a}else if(n&&f!==n)for(var u in n){var v=!!n[u];(f==null||v!==!!f[u])&&s.classList.toggle(u,v)}return n}const E=Symbol("class"),T=Symbol("style"),j=Symbol("is custom element"),B=Symbol("is html");function _s(s){if(g){var i=!1,a=()=>{if(!i){if(i=!0,s.hasAttribute("value")){var e=s.value;L(s,"value",null),s.value=e}if(s.hasAttribute("checked")){var f=s.checked;L(s,"checked",null),s.checked=f}}};s.__on_r=a,x(a),ss()}}function As(s,i){var a=w(s);a.value===(a.value=i??void 0)||s.value===i&&(i!==0||s.nodeName!=="PROGRESS")||(s.value=i??"")}function ds(s,i){i?s.hasAttribute("selected")||s.setAttribute("selected",""):s.removeAttribute("selected")}function L(s,i,a,e){var f=w(s);g&&(f[i]=s.getAttribute(i),i==="src"||i==="srcset"||i==="href"&&s.nodeName==="LINK")||f[i]!==(f[i]=a)&&(i==="loading"&&(s[z]=a),a==null?s.removeAttribute(i):typeof a!="string"&&D(s).includes(i)?s[i]=a:s.setAttribute(i,a))}function ns(s,i,a,e,f=!1,n=!1){if(g&&f&&s.tagName==="INPUT"){var b=s,y=b.type==="checkbox"?"defaultChecked":"defaultValue";y in a||_s(b)}var u=w(s),v=u[j],p=!u[B];let N=g&&v;N&&R(!1);var o=i||{},h=s.tagName==="OPTION";for(var S in i)S in a||(a[S]=null);a.class?a.class=os(a.class):(e||a[E])&&(a.class=null),a[T]&&(a.style??(a.style=null));var k=D(s);for(const t in a){let r=a[t];if(h&&t==="value"&&r==null){s.value=s.__value="",o[t]=r;continue}if(t==="class"){var d=s.namespaceURI==="http://www.w3.org/1999/xhtml";vs(s,d,r,e,i==null?void 0:i[E],a[E]),o[t]=r,o[E]=a[E];continue}if(t==="style"){ls(s,r,i==null?void 0:i[T],a[T]),o[t]=r,o[T]=a[T];continue}var C=o[t];if(!(r===C&&!(r===void 0&&s.hasAttribute(t)))){o[t]=r;var M=t[0]+t[1];if(M!=="$$")if(M==="on"){const _={},A="$$"+t;let l=t.slice(2);var I=es(l);if(as(l)&&(l=l.slice(0,-7),_.capture=!0),!I&&C){if(r!=null)continue;s.removeEventListener(l,o[A],_),o[A]=null}if(r!=null)if(I)s[`__${l}`]=r,ts([l]);else{let G=function(K){o[t].call(this,K)};o[A]=is(l,s,G,_)}else I&&(s[`__${l}`]=void 0)}else if(t==="style")L(s,t,r);else if(t==="autofocus")X(s,!!r);else if(!v&&(t==="__value"||t==="value"&&r!=null))s.value=s.__value=r;else if(t==="selected"&&h)ds(s,r);else{var c=t;p||(c=rs(c));var P=c==="defaultValue"||c==="defaultChecked";if(r==null&&!v&&!P)if(u[t]=null,c==="value"||c==="checked"){let _=s;const A=i===void 0;if(c==="value"){let l=_.defaultValue;_.removeAttribute(c),_.defaultValue=l,_.value=_.__value=A?l:null}else{let l=_.defaultChecked;_.removeAttribute(c),_.defaultChecked=l,_.checked=A?l:!1}}else s.removeAttribute(t);else P||k.includes(c)&&(v||typeof r!="string")?(s[c]=r,c in u&&(u[c]=m)):typeof r!="function"&&L(s,c,r)}}}return N&&R(!0),o}function gs(s,i,a=[],e=[],f,n=!1,b=!1){q(a,e,y=>{var u=void 0,v={},p=s.nodeName==="SELECT",N=!1;if(V(()=>{var h=i(...y.map(Z)),S=ns(s,u,h,f,n,b);N&&p&&"value"in h&&$(s,h.value);for(let d of Object.getOwnPropertySymbols(v))h[d]||O(v[d]);for(let d of Object.getOwnPropertySymbols(h)){var k=h[d];d.description===F&&(!u||k!==u[d])&&(v[d]&&O(v[d]),v[d]=H(()=>cs(s,()=>k))),S[d]=k}u=S}),p){var o=s;Y(()=>{$(o,u.value,!0),us(o)})}N=!0})}function w(s){return s.__attributes??(s.__attributes={[j]:s.nodeName.includes("-"),[B]:s.namespaceURI===J})}var U=new Map;function D(s){var i=s.getAttribute("is")||s.nodeName,a=U.get(i);if(a)return a;U.set(i,a=[]);for(var e,f=s,n=Element.prototype;n!==f;){e=W(f);for(var b in e)e[b].set&&a.push(b);f=Q(f)}return a}export{T as S,L as a,As as b,gs as c,_s as r,vs as s};
